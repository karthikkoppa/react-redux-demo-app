{"ast":null,"code":"import _classCallCheck from\"/Users/kaknz/Desktop/project/project/git/react-redux-demo-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/kaknz/Desktop/project/project/git/react-redux-demo-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/kaknz/Desktop/project/project/git/react-redux-demo-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _createSuper from\"/Users/kaknz/Desktop/project/project/git/react-redux-demo-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/Users/kaknz/Desktop/project/project/git/react-redux-demo-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from\"react\";import{connect}from\"react-redux\";import UncontrolledCell from\"./CellUncontrolled\";import{addColumn,deleteColumn,addRow,deleteRow,updateCell}from\"../reducers\";var Cell=/*#__PURE__*/function(_React$Component){_inherits(Cell,_React$Component);var _super=_createSuper(Cell);function Cell(props){var _this;_classCallCheck(this,Cell);_this=_super.call(this,props);_this.state={lastKey:null,mouseOver:false};_this.onTab=_this.onTab.bind(_assertThisInitialized(_this));_this.onKeyDown=_this.onKeyDown.bind(_assertThisInitialized(_this));_this.onMouseEnter=_this.onMouseEnter.bind(_assertThisInitialized(_this));_this.onMouseLeave=_this.onMouseLeave.bind(_assertThisInitialized(_this));_this.onChange=_this.onChange.bind(_assertThisInitialized(_this));return _this;}_createClass(Cell,[{key:\"onChange\",value:function onChange(e){var value=e.target.value;if(this.props.onCellChange){this.props.onCellChange(this.props.row,this.props.column,value);}}},{key:\"onTab\",value:function onTab(){if(this.props.isLastCell){this.props.onAddRow(this.props.row+1);}}},{key:\"onKeyDown\",value:function onKeyDown(e){if(e.key===\"Tab\"&&this.state.lastKey!==\"Shift\"){this.onTab();}this.setState({lastKey:e.key});}},{key:\"onMouseEnter\",value:function onMouseEnter(e){this.setState({mouseOver:true});}},{key:\"onMouseLeave\",value:function onMouseLeave(e){this.setState({mouseOver:false});}},{key:\"render\",value:function render(){var _this$props=this.props,column=_this$props.column,row=_this$props.row,onAddColumn=_this$props.onAddColumn,onDeleteColumn=_this$props.onDeleteColumn,onAddRow=_this$props.onAddRow,onDeleteRow=_this$props.onDeleteRow,readOnly=_this$props.readOnly,value=_this$props.value,id=_this$props.id,type=_this$props.type,errors=_this$props.errors,isHeader=_this$props.isHeader,count=_this$props.count;var mouseOver=this.state.mouseOver;var showAddColumnBtn=onAddColumn&&mouseOver&&isHeader;var showDeleteColumnBtn=onDeleteColumn&&!readOnly&&mouseOver&&isHeader;var showAddRowBtn=false&&onAddRow&&mouseOver&&column===0;var showDeleteRowBtn=onDeleteRow&&mouseOver&&column===0&&!isHeader;var hasErrors=Array.isArray(errors)&&errors.length>0;// \nreturn/*#__PURE__*/React.createElement(\"div\",{key:\"cell\"+id,className:\"cell \"+(hasErrors?\"has-errors\":\"\")// onKeyDown={this.onKeyDown}\n// onMouseEnter={this.onMouseEnter}\n// onMouseLeave={this.onMouseLeave}\n},(type===\"text\"||type===\"button\")&&/*#__PURE__*/React.createElement(UncontrolledCell,{id:id,count:count,readOnly:readOnly,value:value,column:column,onChange:this.onChange}),showAddColumnBtn&&/*#__PURE__*/React.createElement(AddColumn,{column:column,onAddColumn:onAddColumn}),showDeleteColumnBtn&&/*#__PURE__*/React.createElement(DeleteColumn,{onDeleteColumn:onDeleteColumn,column:column}),showDeleteRowBtn&&/*#__PURE__*/React.createElement(DeleteRow,{onDeleteRow:onDeleteRow,row:row}),showAddRowBtn&&/*#__PURE__*/React.createElement(AddRow,null));}}]);return Cell;}(React.Component);var mapDispatchToProps={onAddColumn:addColumn,onAddRow:addRow,onDeleteColumn:deleteColumn,onDeleteRow:deleteRow,onCellChange:updateCell};export default connect(null,mapDispatchToProps)(Cell);var DeleteRow=function DeleteRow(_ref){var onDeleteRow=_ref.onDeleteRow,row=_ref.row;return/*#__PURE__*/React.createElement(\"div\",{className:\"delete-row\",onClick:function onClick(){return onDeleteRow(row);}},/*#__PURE__*/React.createElement(IconTimes,null));};var DeleteColumn=function DeleteColumn(_ref2){var onDeleteColumn=_ref2.onDeleteColumn,column=_ref2.column;return/*#__PURE__*/React.createElement(\"div\",{className:\"delete-column\",onClick:function onClick(){return onDeleteColumn(column);}},/*#__PURE__*/React.createElement(IconTimes,null));};var AddRow=function AddRow(_ref3){var onAddRow=_ref3.onAddRow,row=_ref3.row;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"add-row add-row-before\"},\"B+\"),/*#__PURE__*/React.createElement(\"div\",{className:\"add-row add-row-after\"},\"Af+\"));};var AddColumn=function AddColumn(_ref4){var onAddColumn=_ref4.onAddColumn,column=_ref4.column;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"add-column add-column-before\",onClick:function onClick(){return onAddColumn(column-1);}},/*#__PURE__*/React.createElement(IconPlus,null)),/*#__PURE__*/React.createElement(\"div\",{className:\"add-column add-column-after\",onClick:function onClick(){return onAddColumn(column);}},/*#__PURE__*/React.createElement(IconPlus,null)));};var IconPlus=function IconPlus(){return/*#__PURE__*/React.createElement(React.Fragment,null,\"+\");};var IconTimes=function IconTimes(){return/*#__PURE__*/React.createElement(React.Fragment,null,\"x\");};","map":{"version":3,"sources":["/Users/kaknz/Desktop/project/project/git/react-redux-demo-app/src/Table/Cell.js"],"names":["React","connect","UncontrolledCell","addColumn","deleteColumn","addRow","deleteRow","updateCell","Cell","props","state","lastKey","mouseOver","onTab","bind","onKeyDown","onMouseEnter","onMouseLeave","onChange","e","value","target","onCellChange","row","column","isLastCell","onAddRow","key","setState","onAddColumn","onDeleteColumn","onDeleteRow","readOnly","id","type","errors","isHeader","count","showAddColumnBtn","showDeleteColumnBtn","showAddRowBtn","showDeleteRowBtn","hasErrors","Array","isArray","length","Component","mapDispatchToProps","DeleteRow","DeleteColumn","AddRow","AddColumn","IconPlus","IconTimes"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { connect } from \"react-redux\";\nimport UncontrolledCell from \"./CellUncontrolled\";\n\nimport {\n  addColumn,\n  deleteColumn,\n  addRow,\n  deleteRow,\n  updateCell\n} from \"../reducers\";\n\nclass Cell extends React.Component {\n  state = { lastKey: null, mouseOver: false };\n\n  constructor(props) {\n    super(props);\n    this.onTab = this.onTab.bind(this);\n    this.onKeyDown = this.onKeyDown.bind(this);\n    this.onMouseEnter = this.onMouseEnter.bind(this);\n    this.onMouseLeave = this.onMouseLeave.bind(this);\n    this.onChange = this.onChange.bind(this);\n  }\n\n  onChange(e) {\n    const value = e.target.value;\n    if (this.props.onCellChange) {\n      this.props.onCellChange(this.props.row, this.props.column, value);\n    }\n  }\n\n  onTab() {\n    if (this.props.isLastCell) {\n      this.props.onAddRow(this.props.row + 1);\n    }\n  }\n\n  onKeyDown(e) {\n    if (e.key === \"Tab\" && this.state.lastKey !== \"Shift\") {\n      this.onTab();\n    }\n    this.setState({ lastKey: e.key });\n  }\n\n  onMouseEnter(e) {\n    this.setState({ mouseOver: true });\n  }\n\n  onMouseLeave(e) {\n    this.setState({ mouseOver: false });\n  }\n\n  render() {\n    const {\n      column,\n      row,\n      onAddColumn,\n      onDeleteColumn,\n      onAddRow,\n      onDeleteRow,\n      readOnly,\n      value,\n      id,\n      type,\n      errors,\n      isHeader,\n      count\n    } = this.props;\n    const { mouseOver } = this.state;\n    const showAddColumnBtn = onAddColumn && mouseOver && isHeader;\n    const showDeleteColumnBtn =\n      onDeleteColumn && !readOnly && mouseOver && isHeader;\n    const showAddRowBtn = false && onAddRow && mouseOver && column === 0;\n    const showDeleteRowBtn =\n      onDeleteRow && mouseOver && column === 0 && !isHeader;\n    const hasErrors = Array.isArray(errors) && errors.length > 0;\n   // \n    return (\n      <div\n        key={\"cell\" + id}\n        className={\"cell \" + (hasErrors ? \"has-errors\" : \"\")}\n        // onKeyDown={this.onKeyDown}\n        // onMouseEnter={this.onMouseEnter}\n        // onMouseLeave={this.onMouseLeave}\n      >\n\n        {/* {type === \"whitelist\" && (\n          <button onChange={this.onChange} defaultValue={value} />\n        )} */}\n\n        {(type === \"text\" || type === \"button\") && (\n          \n          <UncontrolledCell\n            id={id}\n            count={count}\n            readOnly={readOnly}\n            value={value}\n            column={column}\n            onChange={this.onChange}\n          />\n        )}\n\n        {showAddColumnBtn && (\n          <AddColumn column={column} onAddColumn={onAddColumn} />\n        )}\n        {showDeleteColumnBtn && (\n          <DeleteColumn onDeleteColumn={onDeleteColumn} column={column} />\n        )}\n        {showDeleteRowBtn && <DeleteRow onDeleteRow={onDeleteRow} row={row} />}\n        {showAddRowBtn && <AddRow />}\n      </div>\n    );\n  }\n}\n\nconst mapDispatchToProps = {\n  onAddColumn: addColumn,\n  onAddRow: addRow,\n  onDeleteColumn: deleteColumn,\n  onDeleteRow: deleteRow,\n  onCellChange: updateCell\n};\n\nexport default connect(\n  null,\n  mapDispatchToProps\n)(Cell);\n\nconst DeleteRow = ({ onDeleteRow, row }) => (\n  <div className={\"delete-row\"} onClick={() => onDeleteRow(row)}>\n    <IconTimes />\n  </div>\n);\n\nconst DeleteColumn = ({ onDeleteColumn, column }) => (\n  <div className={\"delete-column\"} onClick={() => onDeleteColumn(column)}>\n    <IconTimes />\n  </div>\n);\n\nconst AddRow = ({ onAddRow, row }) => (\n  <>\n    <div className={\"add-row add-row-before\"}>B+</div>\n    <div className={\"add-row add-row-after\"}>Af+</div>\n  </>\n);\n\nconst AddColumn = ({ onAddColumn, column }) => (\n  <>\n    <div\n      className={\"add-column add-column-before\"}\n      onClick={() => onAddColumn(column - 1)}\n    >\n      <IconPlus />\n    </div>\n    <div\n      className={\"add-column add-column-after\"}\n      onClick={() => onAddColumn(column)}\n    >\n      <IconPlus />\n    </div>\n  </>\n);\n\nconst IconPlus = () => <>+</>;\nconst IconTimes = () => <>x</>;\n"]},"metadata":{},"sourceType":"module"}